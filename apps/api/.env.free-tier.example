# Digital Order - Free Tier Demo Environment
# Copy to .env and fill with values from Supabase + Upstash + Render

# ============ DATABASE (Supabase - Free) ============
# REQUIRED for Render: Use Session pooler (Render has no IPv6; Supabase direct uses IPv6)
# Get from: Supabase Dashboard → Project Settings → Database → URI → Session mode
# Use the SAME URL for both (aws-0-xxx.pooler.supabase.com:5432)
DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres"
DIRECT_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres"

# ============ REDIS (Upstash - Free) ============
# Get from: Upstash Console → Your Database → Redis Connect → Connection string
# Format: rediss://default:[password]@[host]:[port]
REDIS_URL="rediss://default:xxxxx@xxx-upstash-redis.upstash.io:6379"

# For Bull queue (parsed from REDIS_URL if not set)
# REDIS_HOST=""
# REDIS_PORT="6379"

# ============ JWT (Generate secure random strings) ============
# Generate: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-min-32-chars"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-min-32-chars"
JWT_EXPIRATION="15m"
JWT_REFRESH_EXPIRATION="7d"

# ============ STORAGE (Optional - leave blank for demo) ============
# Supabase Storage or skip for demo
AWS_S3_ENDPOINT=""
AWS_S3_ACCESS_KEY=""
AWS_S3_SECRET_KEY=""
AWS_S3_BUCKET=""
AWS_S3_REGION=""

# ============ APP URLs (Replace with your deployed URLs) ============
# After deploying: use your *.onrender.com and *.vercel.app URLs
API_URL="https://digital-order-api.onrender.com"
FRONTEND_URL="https://digital-order-customer.vercel.app"
ADMIN_URL="https://digital-order-admin.vercel.app"

# ============ CORS (Comma-separated list of allowed origins) ============
CORS_ORIGIN="https://digital-order-customer.vercel.app,https://digital-order-admin.vercel.app,https://digital-order-kitchen.vercel.app"

# ============ APP ============
NODE_ENV="production"
PORT="3000"
BCRYPT_ROUNDS="10"
RATE_LIMIT_TTL="60"
RATE_LIMIT_MAX="100"

# ============ OPTIONAL (Skip for demo) ============
# PADDLE_* - Payment (use sandbox for testing)
# SMTP_* - Email
# TWILIO_* - SMS
